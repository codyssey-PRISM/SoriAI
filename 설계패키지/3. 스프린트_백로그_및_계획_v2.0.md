# **Sori AI - 스프린트 백로그 및 계획 v2.0**

> **작성 날짜:** 2025-11-24  
> **프로젝트:** Sori AI (Hyper-Personalized AI Care Call Service)  
> **MVP 목표:** Vapi(Voice AI) 기반 자동화 통화 및 데이터 파이프라인의 기술적 무결성 검증  
> **기준:** 전체 서비스 기획 및 UX 설계 v3.0, Vercel 배포 버전 반영


---

## **1. 스프린트 개요 (Sprint Overview)**

### **1.1. 스프린트 구조**
- **총 기간:** 4주 (4 Phases)
- **스프린트 길이:** 1주 단위
- **스프린트 목표:** 각 Phase별 핵심 기능 완성 및 검증

### **1.2. 마일스톤 (Milestones)**

| 마일스톤 | 목표 | 완료 기준 | 예상 완료일 |
| :--- | :--- | :--- | :--- |
| **M1: 인증/온보딩 완료** | 사용자 인증 및 프로필 설정 완료 | A-1, A-2, A-3 기능 구현 및 테스트 통과 | Phase 1 종료 (1주차) |
| **M2: AI 통화 시스템 구축** | Vapi 아웃바운드 통화 및 시나리오 수행 | B-1, B-2 기능 구현 및 통화 테스트 성공 | Phase 2 종료 (2주차) |
| **M3: 통화 상세 리포트 파이프라인 완성** | 통화 데이터 수집 및 통화 상세 리포트 생성 | C-1, C-2 기능 구현 및 리포트 생성 검증 | Phase 3 종료 (3주차) |
| **M4: MVP 완성** | 핵심 기능 완료 및 설정 기능 추가 | D-1 기능 구현 및 전체 시스템 통합 테스트 | Phase 4 종료 (4주차) |

### **1.3. 릴리스 계획 (Release Plan)**

| 릴리스 | 버전 | 포함 기능 | 목표 날짜 | 목적 |
| :--- | :--- | :--- | :--- | :--- |
| **Alpha** | v0.1.0 | A-1, A-2, A-3 (인증/온보딩) | Phase 1 종료 | 내부 테스트용 |
| **Beta** | v0.2.0 | B-1, B-2 (AI 통화) | Phase 2 종료 | 통화 기능 검증 |
| **RC** | v0.3.0 | C-1, C-2 (통화 상세 리포트) | Phase 3 종료 | 리포트 파이프라인 검증 |
| **MVP** | v1.0.0 | 전체 기능 (D-1 포함) | Phase 4 종료 | MVP 출시 |

---

## **2. 스프린트 백로그 (Sprint Backlog)**

### **Phase 1: 인증/온보딩 (1주차)**

#### **SP-1-1. A-1: 이메일 코드 로그인**

- **티켓 ID:** `SP-1-1`
- **제목:** 이메일 코드 인증 시스템 구현
- **우선순위:** Must (P0)
- **카테고리:** 인증/온보딩
- **예상 작업량:** 8 Story Points
- **담당자:** Backend Developer, Frontend Developer

**설명:**
- 이메일 입력 → 6자리 코드 발송 → 검증 → User 정보 반환
- Passwordless 인증 방식
- UID를 통한 '사용자 정보' 관리 
- **참고:** JWT 토큰 발급은 구현 고려

**세부 작업:**
1. 이메일 코드 발송 API 구현 (Backend)
2. 코드 검증 API 구현 (Backend)
3. User 정보 반환 및 세션 관리 (Backend)
4. 온보딩 페이지 UI 구현 (Frontend)
5. 이메일 입력 UI 구현 (Frontend)
6. 코드 입력 UI 구현 (Frontend)
7. 인증 상태 관리 (Frontend)
8. 에러 처리 및 유효성 검사 (Frontend/Backend)

**Acceptance Criteria (AC):**
- [ ] 사용자가 이메일을 입력하면 6자리 코드가 발송됨
- [ ] 코드는 10분간 유효하며, 만료 시 재발송 가능
- [ ] 코드 검증 성공 시 JWT 토큰이 발급되고 세션이 유지됨
- [ ] 잘못된 코드 입력 시 명확한 에러 메시지 표시
- [ ] 코드 발송 실패 시 재시도 가능
- [ ] 이메일 형식 유효성 검사 통과

**Definition of Done (DoD):**
- [ ] 코드 리뷰 완료
- [ ] 단위 테스트 작성 및 통과 (커버리지 80% 이상)
- [ ] 통합 테스트 통과
- [ ] 보안 검토 완료 (코드 만료 시간, 재시도 제한 등)
- [ ] 문서화 완료 (API 명세서 업데이트)

**의존성:**
- 이메일 발송 서비스 연동 (SendGrid/SES 등)

**리스크:**
- 이메일 발송 지연 또는 실패
- **대응:** 재시도 로직 구현, 대체 이메일 서비스 준비

---

#### **SP-1-2. A-2: 프로필/스케줄 설정**

- **티켓 ID:** `SP-1-2`
- **제목:** 보호자/피보호자 프로필 및 통화 스케줄 설정
- **우선순위:** Must (P0)
- **카테고리:** 인증/온보딩
- **예상 작업량:** 13 Story Points
- **담당자:** Backend Developer, Frontend Developer, DevOps

**설명:**
- 보호자/피보호자(어르신) 기본 정보 입력
- 통화 요일/시간 설정 및 APScheduler DB 연동
- 데이터 무결성 확보 (오발신 방지)
- 온보딩 가이드(3-Step Slider) 및 온보딩 완료 화면 포함

**세부 작업:**
2. 온보딩 Step 1: 보호자 정보 입력 UI (Frontend)
3. 온보딩 Step 2: 피보호자 정보 입력 UI (Frontend)
4. 온보딩 Step 3: 통화 스케줄 설정 UI (Frontend)
5. 온보딩 Step 4: 통화 내용 설정 UI (Frontend)
6. 온보딩 Step 5: 최종 확인 및 동의 UI (Frontend)
7. 온보딩 완료 화면 UI 구현 (Frontend)
8. 프로필 데이터 모델 설계 (Backend)
9. 프로필 저장 API 구현 (Backend)
10. 통화 스케줄 데이터 모델 설계 (Backend)
11. APScheduler 연동 및 스케줄 저장 (Backend)
12. 데이터 유효성 검사 (Backend)
13. 진행 인디케이터 구현 (Frontend)
14. Step 간 데이터 유지 및 전환 (Frontend)

**Acceptance Criteria (AC):**
- [ ] 온보딩 5단계가 순차적으로 진행됨
- [ ] 각 Step에서 이전/다음 버튼으로 이동 가능
- [ ] 진행 인디케이터(1-5 버튼) 클릭 시 해당 Step으로 이동 가능
- [ ] 필수 입력 항목 미입력 시 다음 버튼 비활성화
- [ ] 입력 데이터가 DB에 정확히 저장됨
- [ ] 통화 스케줄이 APScheduler에 정확히 등록됨
- [ ] 잘못된 시간 설정 시 에러 메시지 표시
- [ ] Step 5에서 Accordion UI로 정보 요약 표시
- [ ] 필수 동의 체크 전까지 완료 버튼 비활성화
- [ ] 온보딩 완료 시 초대 코드 카드 표시
- [ ] 초대 코드 복사 기능 작동

**Definition of Done (DoD):**
- [ ] 코드 리뷰 완료
- [ ] 단위 테스트 작성 및 통과 (커버리지 80% 이상)
- [ ] 통합 테스트 통과
- [ ] APScheduler 연동 테스트 통과
- [ ] 데이터 무결성 검증 완료
- [ ] UI/UX 검토 완료
- [ ] 문서화 완료 (데이터 모델, API 명세서)

**의존성:**
- SP-1-1 (인증 완료 후 접근)
- APScheduler 설정 완료

**리스크:**
- 스케줄 설정 오류로 인한 오발신
- **대응:** 스케줄 검증 로직 강화, 테스트 환경에서 화이트리스트 번호만 사용

---

#### **SP-1-3. A-3: 건강 정보 입력 및 프롬프트 주입 설계 (선택 입력)**

- **티켓 ID:** `SP-1-3`
- **제목:** 건강 정보 입력 및 Vapi 프롬프트 주입 구조 설계
- **우선순위:** Must (P0)
- **카테고리:** 인증/온보딩
- **예상 작업량:** 10 Story Points
- **담당자:** Backend Developer, AI Engineer

**설명:**
- 주요 질환/복약 정보 선택 입력 (온보딩 Step 2에 통합)
- 프롬프트 주입용 데이터 구조화
- 초개인화 검증 (입력된 약/질환 정보가 실제 통화 시 AI 발화에 정확히 반영)
- **참고:** 건강 정보는 선택 입력이며, 입력하지 않아도 온보딩 완료 가능

**세부 작업:**
1. 건강 정보 데이터 모델 설계 (Backend)
2. 건강 정보 입력 UI (Frontend, Step 2에 통합)
3. 건강 정보 저장 API 구현 (Backend)
4. Vapi 프롬프트 템플릿 설계 (AI Engineer)
5. 건강 정보 → 프롬프트 변환 로직 구현 (Backend)
6. 프롬프트 주입 테스트 (AI Engineer)

**Acceptance Criteria (AC):**
- [ ] 건강 정보 입력 없이 온보딩 완료 가능
- [ ] 지병 정보 선택 입력 가능 (고혈압, 당뇨 등)
- [ ] 복용 약물 정보 선택 입력 가능 (약 이름, 복용 시간, 복용법)
- [ ] 입력된 건강 정보가 DB에 저장됨
- [ ] 건강 정보가 Vapi 프롬프트에 정확히 주입됨 (입력한 경우)
- [ ] 테스트 통화에서 AI가 입력된 약 이름을 정확히 발화함 (입력한 경우)
- [ ] 테스트 통화에서 AI가 입력된 질환 관련 질문을 수행함 (입력한 경우)

**Definition of Done (DoD):**
- [ ] 코드 리뷰 완료
- [ ] 단위 테스트 작성 및 통과 (커버리지 80% 이상)
- [ ] 프롬프트 주입 테스트 통과
- [ ] 실제 통화 테스트에서 건강 정보 반영 확인
- [ ] 문서화 완료 (프롬프트 템플릿, 데이터 구조)

**의존성:**
- SP-1-2 (프로필 설정 완료)
- Vapi 계정 및 API 키 설정

**리스크:**
- 프롬프트 주입 실패 또는 잘못된 정보 반영
- **대응:** 프롬프트 검증 로직 구현, 테스트 통화로 사전 검증

---

### **Phase 2: AI 음성 통화 (2주차)**

#### **SP-2-1. B-1: Vapi 아웃바운드 통화**

- **티켓 ID:** `SP-2-1`
- **제목:** Vapi 아웃바운드 통화 자동 발신 시스템
- **우선순위:** Must (P0)
- **카테고리:** AI 음성 통화
- **예상 작업량:** 13 Story Points
- **담당자:** Backend Developer, DevOps

**설명:**
- 예약된 시간에 시스템이 자동 발신
- 수신 실패 시 재시도 로직 (Optional)
- 시스템 안정성 검증 (APScheduler 트리거 정확도, Vapi API 호출 Latency < 2초)

**세부 작업:**
1. Vapi API 연동 (Backend)
2. APScheduler 트리거 핸들러 구현 (Backend)
3. 통화 발신 로직 구현 (Backend)
4. 통화 상태 관리 (발신 중, 완료, 실패 등) (Backend)
5. 재시도 로직 구현 (Backend)
6. 통화 로그 저장 (Backend)
7. 에러 처리 및 알림 (Backend)
8. 동시 발신 부하 테스트 (DevOps)

**Acceptance Criteria (AC):**
- [ ] 예약된 시간에 정확히 통화 발신됨
- [ ] Vapi API 호출 Latency가 2초 이내
- [ ] 통화 발신 성공률 95% 이상
- [ ] 수신 실패 시 재시도 로직 작동 (최대 2회)
- [ ] 통화 상태가 실시간으로 DB에 저장됨
- [ ] 동시 10콜 이상 발신 시 누락 없이 처리
- [ ] 통화 발신 실패 시 에러 로그 기록 및 알림 발송

**Definition of Done (DoD):**
- [ ] 코드 리뷰 완료
- [ ] 단위 테스트 작성 및 통과 (커버리지 80% 이상)
- [ ] 통합 테스트 통과
- [ ] 부하 테스트 통과 (동시 10콜 이상)
- [ ] APScheduler 트리거 정확도 검증 완료
- [ ] 문서화 완료 (API 연동 가이드, 에러 처리 가이드)

**의존성:**
- SP-1-2 (스케줄 설정 완료)
- Vapi 계정 및 API 키 설정
- APScheduler 인프라 구축

**리스크:**
- Vapi API 호출 실패 또는 지연
- **대응:** 재시도 로직, 에러 핸들링, 모니터링 시스템 구축

---

#### **SP-2-2. B-2: AI 시나리오 수행**

- **티켓 ID:** `SP-2-2`
- **제목:** AI 대화 시나리오 구현 및 프롬프트 최적화
- **우선순위:** Must (P0)
- **카테고리:** AI 음성 통화
- **예상 작업량:** 13 Story Points
- **담당자:** Backend Developer, AI Engineer

**설명:**
- 안부 → 건강(약) → 식사 → 수면 흐름
- 상황별 적절한 리액션 (Vapi Prompting)
- 시나리오 완결성 검증 (AI가 대화 맥락을 잃지 않고 3턴 이상 유의미한 대화 지속)

**세부 작업:**
1. 대화 시나리오 설계 (AI Engineer)
2. 기본 시나리오 프롬프트 작성 (AI Engineer)
3. 건강 정보 기반 개인화 프롬프트 생성 (Backend)
4. 상황별 리액션 로직 설계 (AI Engineer)
5. Vapi Assistant 설정 및 프롬프트 주입 (AI Engineer)
6. 시나리오 테스트 통화 수행 (AI Engineer)
7. 프롬프트 최적화 (AI Engineer)
8. 대화 완결성 검증 로직 구현 (Backend)

**Acceptance Criteria (AC):**
- [ ] AI가 안부 인사로 대화 시작
- [ ] AI가 건강(약 복용) 질문 수행
- [ ] AI가 식사 여부 질문 수행
- [ ] AI가 수면 상태 질문 수행
- [ ] AI가 대화 맥락을 잃지 않고 3턴 이상 유의미한 대화 지속
- [ ] AI가 끝인사까지 완료한 통화 비율 80% 이상
- [ ] AI가 약 복용/식사 등 핵심 정보 질문 수행률 90% 이상
- [ ] 상황별 적절한 리액션 수행 (예: 약 미복용 시 권유)

**Definition of Done (DoD):**
- [ ] 코드 리뷰 완료
- [ ] 시나리오 테스트 통화 10회 이상 수행 및 검증
- [ ] 대화 완결성 지표 달성 (80% 이상)
- [ ] 핵심 정보 질문 수행률 달성 (90% 이상)
- [ ] 프롬프트 문서화 완료
- [ ] 시나리오 플로우 다이어그램 작성

**의존성:**
- SP-1-3 (건강 정보 입력 완료)
- SP-2-1 (통화 발신 시스템 완료)
- Vapi Assistant 설정

**리스크:**
- AI가 대화 맥락을 잃고 중간에 끊김
- **대응:** 프롬프트 최적화, 컨텍스트 관리 강화, 반복 테스트

---

### **Phase 3: 통화 상세 리포트 (3주차)**

#### **SP-3-1. C-1: 데이터 파이프라인**

- **티켓 ID:** `SP-3-1`
- **제목:** Vapi Webhook 수신 및 통화 상세 리포트 생성 파이프라인
- **우선순위:** Must (P0)
- **카테고리:** 통화 상세 리포트
- **예상 작업량:** 13 Story Points
- **담당자:** Backend Developer, AI Engineer

**설명:**
- Vapi Webhook 수신 (Recording, Script)
- 데이터 파싱 및 DB 적재
- 리포트 생성 (LLM 기반 요약/태깅)
- 파이프라인 신뢰성 검증 (통화 종료 후 10분 이내 리포트 생성 완료, 데이터 유실률 0%)

**세부 작업:**
1. Vapi Webhook 엔드포인트 구현 (Backend)
2. Webhook 데이터 수신 및 검증 (Backend)
3. Recording 파일 다운로드 및 저장 (Backend)
4. Transcript 파싱 (Backend)
5. LLM 기반 요약 생성 (AI Engineer)
6. 태그 추출 로직 구현 (식사/복약/감정) (AI Engineer)
7. 상태 분석 데이터 생성 (좋음/보통/나쁨) (AI Engineer)
8. 리포트 데이터 모델 설계 (Backend)
9. 리포트 DB 적재 (Backend)
10. 에러 처리 및 재시도 로직 (Backend)
11. 파이프라인 모니터링 (Backend)

**Acceptance Criteria (AC):**
- [ ] Vapi Webhook이 정확히 수신됨
- [ ] 통화 종료 후 10분 이내 요약 리포트 생성 완료
- [ ] 데이터 유실률 0% (모든 통화 데이터 저장)
- [ ] Recording 파일이 안전하게 저장됨
- [ ] Transcript가 정확히 파싱됨
- [ ] 요약이 생성되고 DB에 저장됨 (2-3줄)
- [ ] 태그가 추출되고 DB에 저장됨 (식사/복약/감정)
- [ ] 상태 분석 데이터가 생성되고 DB에 저장됨 (좋음/보통/나쁨)
- [ ] Webhook 수신 실패 시 재시도 로직 작동

**Definition of Done (DoD):**
- [ ] 코드 리뷰 완료
- [ ] 단위 테스트 작성 및 통과 (커버리지 80% 이상)
- [ ] 통합 테스트 통과
- [ ] 파이프라인 성능 테스트 통과 (10분 이내 리포트 생성)
- [ ] 데이터 유실률 검증 완료 (0%)
- [ ] 에러 처리 및 재시도 로직 검증 완료
- [ ] 문서화 완료 (Webhook 명세서, 파이프라인 다이어그램)

**의존성:**
- SP-2-2 (AI 통화 완료)
- LLM API 설정 (OpenAI/Claude 등)
- Vapi Webhook 설정

**리스크:**
- Webhook 수신 실패 또는 지연
- **대응:** 재시도 로직, 모니터링, 알림 시스템

---

#### **SP-3-2. C-2: 통화 상세 리포트 UI**

- **티켓 ID:** `SP-3-2`
- **제목:** 통화 상세 리포트 UI 구현 (전체 페이지)
- **우선순위:** Must (P0)
- **카테고리:** 통화 상세 리포트
- **예상 작업량:** 13 Story Points
- **담당자:** Frontend Developer, Backend Developer

**설명:**
- 통화 상세 리포트 전체 페이지 구현 (`/call-history/[id]`)
- 2컬럼 레이아웃 (좌측: 기본 정보/상태 분석/주요 확인 사항/키워드 태그, 우측: AI 요약/대화 전체 로그)
- 대시보드 및 전체 통화 기록에서 통화 상세 리포트 버튼 클릭 시 전체 페이지로 이동
- 페이지 스크롤 없이 내부 스크롤만 사용

**세부 작업:**
1. 리포트 데이터 조회 API 구현 (Backend)
2. 통화 상세 리포트 페이지 라우팅 설정 (Frontend)
3. 페이지 헤더 구현 (뒤로가기 버튼, 타이틀) (Frontend)
4. 좌측 컬럼 UI 구현:
   - 통화 기본 정보 섹션 (Frontend)
   - 상태 분석 섹션 (3개 상태 버튼) (Frontend)
   - 주요 확인 사항 섹션 (체크리스트 형식) (Frontend)
   - 키워드 태그 섹션 (Frontend)
5. 우측 컬럼 UI 구현:
   - AI 요약 섹션 (Frontend)
   - 대화 전체 로그 섹션 (채팅 UI) (Frontend)
6. 내부 스크롤 구현 (Frontend)
7. 대시보드 통화 상세 리포트 버튼 연결 (Frontend)
8. 전체 통화 기록 통화 상세 리포트 버튼 연결 (Frontend)
9. 반응형 디자인 적용 (Frontend)

**Acceptance Criteria (AC):**
- [ ] 통화 종료 후 리포트가 대시보드에 표시됨
- [ ] 대시보드에서 통화 상세 리포트 버튼 클릭 시 `/call-history/[id]` 전체 페이지로 이동
- [ ] 전체 통화 기록에서 통화 상세 리포트 버튼 클릭 시 `/call-history/[id]` 전체 페이지로 이동
- [ ] 통화 상세 리포트 페이지가 2컬럼 레이아웃으로 표시됨
- [ ] 좌측 컬럼에 통화 기본 정보, 상태 분석, 주요 확인 사항, 키워드 태그가 표시됨
- [ ] 우측 컬럼에 AI 요약(2-3줄)과 대화 전체 로그가 표시됨
- [ ] 상태 분석이 3개 상태 버튼(좋음/보통/나쁨)으로 표시되고 현재 상태가 강조됨
- [ ] 주요 확인 사항이 체크리스트 형식으로 표시됨
- [ ] 대화 전체 로그가 채팅 UI 형식으로 표시됨
- [ ] 페이지 스크롤 없이 내부 스크롤만 작동함
- [ ] 모바일/데스크톱에서 모두 정상 표시됨
- [ ] 리포트가 없을 때 Empty State 표시

**Definition of Done (DoD):**
- [ ] 코드 리뷰 완료
- [ ] 단위 테스트 작성 및 통과 (커버리지 80% 이상)
- [ ] 통합 테스트 통과
- [ ] UI/UX 검토 완료
- [ ] 반응형 테스트 완료
- [ ] 문서화 완료 (컴포넌트 명세서)

**의존성:**
- SP-3-1 (리포트 파이프라인 완료)

**리스크:**
- 리포트 생성 지연으로 인한 사용자 경험 저하
- **대응:** 로딩 상태 표시, 실시간 업데이트 고려

---

#### **SP-3-3. C-3: 대시보드 통화 기록 UI**

- **티켓 ID:** `SP-3-3`
- **제목:** 대시보드 최근 통화 기록 및 전체 통화 기록 UI 구현
- **우선순위:** Must (P0)
- **카테고리:** 통화 상세 리포트
- **예상 작업량:** 10 Story Points
- **담당자:** Frontend Developer, Backend Developer

**설명:**
- 대시보드 최근 통화 기록 (Timeline 형식)
- 전체 통화 기록 페이지 (`/call-history`)
- 접힌/펼친 상태 지원
- 통화 상세 리포트 버튼 연결

**세부 작업:**
1. 대시보드 최근 통화 기록 컴포넌트 구현 (Frontend)
2. 접힌/펼친 상태 UI 구현 (Frontend)
3. 전체 통화 기록 페이지 구현 (Frontend)
4. 페이지네이션 구현 (Frontend)
5. 통화 기록 데이터 조회 API 구현 (Backend)
6. 통화 상세 리포트 버튼 연결 (Frontend)

**Acceptance Criteria (AC):**
- [ ] 대시보드에 최근 통화 기록이 Timeline 형식으로 표시됨
- [ ] 접힌 상태에서 첫 줄만 표시됨 (50자 제한)
- [ ] 펼친 상태에서 전체 요약 표시됨
- [ ] 전체 통화 기록 페이지가 Feed 형식으로 표시됨
- [ ] 페이지네이션이 정상 작동함 (10개씩 표시)
- [ ] 통화 상세 리포트 버튼 클릭 시 전체 페이지로 이동

**Definition of Done (DoD):**
- [ ] 코드 리뷰 완료
- [ ] 단위 테스트 작성 및 통과 (커버리지 80% 이상)
- [ ] 통합 테스트 통과
- [ ] UI/UX 검토 완료
- [ ] 문서화 완료

**의존성:**
- SP-3-1 (리포트 파이프라인 완료)

---

### **Phase 4: 설정 및 고도화 (4주차)**

#### **SP-4-1. D-1: 정보 수정 및 관리**

- **티켓 ID:** `SP-4-1`
- **제목:** 어르신 약/지병 정보 수정 및 통화 스케줄 변경
- **우선순위:** Must (P0)
- **카테고리:** 설정
- **예상 작업량:** 10 Story Points
- **담당자:** Frontend Developer, Backend Developer

**설명:**
- 어르신 약/지병 정보 수정
- 통화 스케줄 변경 및 ON/OFF
- 사용성 확보 (생활 패턴 변화에 대응)

**세부 작업:**
1. 설정 페이지 UI 구현 (Frontend)
2. 프로필 탭 구현 (Frontend)
3. 통화 설정 탭 구현 (Frontend)
4. 정보 수정 API 구현 (Backend)
5. 스케줄 수정 API 구현 (Backend)
6. APScheduler 업데이트 로직 (Backend)
7. 수정 내용 즉시 프롬프트 반영 (Backend)
8. 수정 모드/저장 모드 토글 (Frontend)

**Acceptance Criteria (AC):**
- [ ] 설정 페이지에서 프로필 정보 수정 가능
- [ ] 설정 페이지에서 통화 스케줄 수정 가능
- [ ] 스케줄 ON/OFF 토글 작동
- [ ] 수정 내용이 DB에 저장됨
- [ ] 수정 내용이 즉시 프롬프트에 반영됨
- [ ] APScheduler가 업데이트된 스케줄을 반영함
- [ ] 저장 완료 시 토스트 알림 표시
- [ ] 수정 모드에서만 삭제 버튼 표시

**Definition of Done (DoD):**
- [ ] 코드 리뷰 완료
- [ ] 단위 테스트 작성 및 통과 (커버리지 80% 이상)
- [ ] 통합 테스트 통과
- [ ] APScheduler 업데이트 검증 완료
- [ ] 프롬프트 반영 검증 완료
- [ ] UI/UX 검토 완료
- [ ] 문서화 완료 (API 명세서)

**의존성:**
- SP-1-2 (프로필 설정 완료)
- SP-2-1 (APScheduler 연동 완료)

**리스크:**
- 스케줄 수정 시 기존 통화와 충돌
- **대응:** 스케줄 검증 로직, 기존 통화 취소 처리

---

## **3. 스프린트 계획 상세 (Detailed Sprint Plan)**

### **Phase 1 스프린트 (1주차)**

**목표:** 사용자 인증 및 프로필 설정 완료

**스프린트 백로그:**
- SP-1-1: 이메일 코드 로그인 (8 SP)
- SP-1-2: 프로필/스케줄 설정 (13 SP)
- SP-1-3: 건강 정보 입력 및 프롬프트 주입 설계 (10 SP)

**총 작업량:** 31 Story Points

**일정:**
- Day 1-2: SP-1-1 (이메일 코드 로그인)
- Day 3-4: SP-1-2 (프로필/스케줄 설정)
- Day 5: SP-1-3 (건강 정보 입력)
- Day 6-7: 통합 테스트 및 버그 수정

**의존성 관리:**
- SP-1-1 완료 후 SP-1-2 시작
- SP-1-2 완료 후 SP-1-3 시작

**리스크 대응:**
- 이메일 발송 지연: 대체 서비스 준비
- 스케줄 설정 오류: 검증 로직 강화

---

### **Phase 2 스프린트 (2주차)**

**목표:** AI 통화 시스템 구축

**스프린트 백로그:**
- SP-2-1: Vapi 아웃바운드 통화 (13 SP)
- SP-2-2: AI 시나리오 수행 (13 SP)

**총 작업량:** 26 Story Points

**일정:**
- Day 1-3: SP-2-1 (Vapi 아웃바운드 통화)
- Day 4-5: SP-2-2 (AI 시나리오 수행)
- Day 6-7: 통화 테스트 및 프롬프트 최적화

**의존성 관리:**
- SP-2-1 완료 후 SP-2-2 시작
- SP-1-2, SP-1-3 완료 필수

**리스크 대응:**
- Vapi API 호출 실패: 재시도 로직, 모니터링
- AI 대화 맥락 손실: 프롬프트 최적화, 반복 테스트

---

### **Phase 3 스프린트 (3주차)**

**목표:** 통화 상세 리포트 파이프라인 완성

**스프린트 백로그:**
- SP-3-1: 데이터 파이프라인 (13 SP)
- SP-3-2: 통화 상세 리포트 UI (13 SP)
- SP-3-3: 대시보드 통화 기록 UI (10 SP)

**총 작업량:** 36 Story Points

**일정:**
- Day 1-3: SP-3-1 (데이터 파이프라인)
- Day 4-5: SP-3-2 (통화 상세 리포트 UI)
- Day 6: SP-3-3 (대시보드 통화 기록 UI)
- Day 7: 통합 테스트 및 성능 최적화

**의존성 관리:**
- SP-3-1 완료 후 SP-3-2, SP-3-3 시작
- SP-2-2 완료 필수 (통화 데이터 필요)

**리스크 대응:**
- Webhook 수신 실패: 재시도 로직, 모니터링
- 리포트 생성 지연: 비동기 처리, 로딩 상태

---

### **Phase 4 스프린트 (4주차)**

**목표:** MVP 완성

**스프린트 백로그:**
- SP-4-1: 정보 수정 및 관리 (10 SP)

**총 작업량:** 10 Story Points

**일정:**
- Day 1-3: SP-4-1 (정보 수정 및 관리)
- Day 4-7: 전체 시스템 통합 테스트 및 버그 수정

**의존성 관리:**
- SP-1-2, SP-2-1 완료 필수

**리스크 대응:**
- 스케줄 수정 충돌: 검증 로직 강화

---

## **4. 버퍼 및 의존성 관리 (Buffer & Dependency Management)**

### **4.1. 버퍼 시간**
- 각 Phase 종료 시 1일 버퍼 (통합 테스트 및 버그 수정)
- 전체 일정에 10% 버퍼 포함

### **4.2. 의존성 관리**
- **크리티컬 경로:** SP-1-1 → SP-1-2 → SP-1-3 → SP-2-1 → SP-2-2 → SP-3-1 → SP-3-2 → SP-3-3
- **병렬 진행 가능:** SP-3-2, SP-3-3 (SP-3-1 완료 후)
- **외부 의존성:** Vapi API, 이메일 발송 서비스, LLM API

### **4.3. 리스크 대응 전략**
- **회피 (Avoidance):** 스펙 아웃 항목 철저히 배제
- **전이 (Transfer):** 외부 서비스 장애 시 대체 서비스 준비
- **수용 (Acceptance):** 일부 기능의 지연 가능성 수용
- **완화 (Mitigation):** 검증 로직 강화, 모니터링 시스템 구축

---

## **5. Definition of Done (DoD) - 공통 기준**

모든 티켓은 다음 조건을 만족해야 완료로 간주:

- [ ] 코드 리뷰 완료 (최소 1명 이상 승인)
- [ ] 단위 테스트 작성 및 통과 (커버리지 80% 이상)
- [ ] 통합 테스트 통과
- [ ] 문서화 완료 (API 명세서, 컴포넌트 명세서 등)
- [ ] 보안 검토 완료 (해당 기능에 따라)
- [ ] UI/UX 검토 완료 (프론트엔드 기능의 경우)
- [ ] 성능 테스트 통과 (해당 기능에 따라)
- [ ] 브랜치 머지 완료 (main/dev 브랜치)

---

**문서 버전:** v2.0  
**최종 업데이트:** 2025-11-24

